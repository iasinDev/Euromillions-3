env:
  global:
    CC_TEST_REPORTER_ID:
      secure: LV3b6DXxc0MIMll/AmD7I32tIkyGpYyMYhnsjrSV5NnmlsuanJRED1jJ1iXEL1wvAJsxoGyxyra2rmIY4luIZzLPLfpFkNtxhG0fgcmNTXAMJeuT6Supqtb5Dm+lOzozSPofWmqvL1KCDMWztmRB2ZDQA7ESaQ9ypNMmj7edgkfCphC3VcxczbE47/iHBwPr7uQSVSBsMDpkGPselW9ghfowEj4OFFC/c4O5QP8DvLhKKYutpJHoqFpdRncgP7glRA/6QZJpN0B2UtFNG0XgN0uYU8lG6DMZhjDHzAWVPHh0+EN5TaGgxxqO6tnyvSpeT20kmDchUQZbw9t8L4KLhlNAZLUwv4BTpMLWa2/Ai9fP3cg1BFd4tLJTo8j/q1ANY/4gaI/HEfGS4PQsG1nb3C5icCRgx4PoMQlM5vSD3eSP15W/g830hb9aCcoXshPEcwpZ0/PC4uvMyC9uwVFWbswl9rtTDN/URa36JfJjycZeDbzCfgMH0uXn7HLR2FFKAHMKo7BOHkDinlGHDW53IqKJB0AJsq5GilN8FJPLfBfrWq03iDGxPJKNx4de6EZOdg7A+QfpUBnJnSqb82ZjaYohLHAlAN+OyZzxJkoYtu6Y//ifhHnAX532i28m2EUgyyIvEMxdZIPbWgyZOLY/qkYFzG+cL+LLL7zAAPkjjsU=


language: python
python:
- '2.6'
- '2.7'
- '3.2'
- '3.3'
- '3.4'
- '3.5'
- 3.5-dev
- '3.6'
- 3.6-dev
- 3.7-dev
- nightly
install:
- pip install .
- pip install coverage codacy-coverage
before_script:
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
script:
- coverage run -m unittest
- coverage xml
- python-codacy-coverage -r coverage.xml
- if [ "$TRAVIS_PULL_REQUEST" == "false" ]; then ./cc-test-reporter after-build --exit-code
  $TRAVIS_TEST_RESULT; fi
deploy:
  provider: pypi
  user: k33k00
  password:
    secure: XJFpOpx2WtrX9mcxgCakqYZCM8H5PLCgiV4mA5xyrhnVNLGs8uNOVOt7lth+6KKDIEOBsgefmgcDbAdGKIu/LXkRWBoip6Bl2mUiuKw9r6cb5121nzbdv4axkOoqQ+TC4IU6j/GnxgOg7aoECVaO5kkEtvEeZ5mboFVruUMUS9EJaJ7zB3r2Y1Zn4trGNx+IT+wbxlaS4+SQbTFVodcGQoWLxlwLbW4gmoLGB3wMxOytQWzJb8fnEzNMosabIdwCjjZbw6OxWKlHfUVXQfH7nlGsUyId8/vdRFEFGuH1UXhOfg/HjCxZ/xkQxSMLqATZ8JE4NzEnJjam8qu+KDOWL6CWT6z8OFT8Vzc9BgHOmpVZWf/BzwKPRZvJdV2rH3f2crjMbWrhuFTWYRDAjsrR4YklHeKBbIwU42meL9UGcqHNYVq3aVvGVzcDypL3zykEM6li447qpmb4b23ojtFtDdg2/JGVRhSMsR2molq8TpQ5U1CMlt/8021H1qLE5+koWmgoTJpQSqdh+rOXRGgNui5VsPTjiPq92AKhmJGLflXQRq9WbPied9wUoNLJWWbvRt0gbToZmoG9MrdRdU52hymjh7BPqmZaiNIj+JZD5U0cV4AaJm2ewbSF4CyyzxcCl5JPjjhfKbE2njinQWhTuCyrZBhTPaXuynjzCgQ471g=
    on: 
    tags: true
